<!DOCTYPE html>
<html>
<head>
    <title>Currency Converter</title>
</head>
<body>
    <h1>Currency Converter</h1>
    
    <label for="inputAmount">Amount:</label>
    <input type="text" id="inputAmount" name="amount" />

    <label for="inputFrom">From:</label>
    <select id="inputFrom" name="from">
        <option value="CAD">CAD</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="GBP">GBP</option>
        <option value="CNY">CNY</option>
        <!-- Add more options as needed -->
    </select>

    <label for="inputTo">To:</label>
    <select id="inputTo" name="to">
        <option value="CAD">CAD</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="GBP">GBP</option>
        <option value="CNY">CNY</option>
        <!-- Add more options as needed -->
    </select>

    <button type="button" id="convertButton">Convert</button>

    <label for="outputResult">Result:</label>
    <span id="outputResult"></span>

    <script>
        const convertButton = document.getElementById('convertButton');
        const inputAmount = document.getElementById('inputAmount');
        const inputFrom = document.getElementById('inputFrom');
        const inputTo = document.getElementById('inputTo');
        const outputResult = document.getElementById('outputResult');

        convertButton.addEventListener('click', () => {
            const amount = parseFloat(inputAmount.value);
            const fromCurrency = inputFrom.value;
            const toCurrency = inputTo.value;

            // Make an HTTP request to the server-side endpoint
            fetch(`/api/convert?amount=${amount}&from=${fromCurrency}&to=${toCurrency}`)
                .then(response => response.json())
                .then(data => {
                    console.log(data); // Log the response data
                    document.getElementById('outputResult').innerText = `Converted Amount: ${data.result}`;
                    // Process the response data here
                })
                .catch(error => {
                    console.error(error); // Log any errors
                    // Handle any errors
                });
        });
    </script>
</body>
</html>
